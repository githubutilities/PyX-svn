\def\stripspace#1 \next{#1}

\message{latex style name (e.g. 12ptex)? }
\read-1 to\latexstylename
\edef\latexstylename{\expandafter\stripspace\latexstylename\next}

\message{latex class name (e.g. article)? }
\read-1 to\latexclassname
\edef\latexclassname{\expandafter\stripspace\latexclassname\next}

\message{latex class options (e.g. 12pt)? }
\read-1 to\latexclassopt
\edef\latexclassopt{\expandafter\stripspace\latexclassopt\next}

\message{initial commands (e.g. \string\usepackage\string{exscale\string})? }
\read-1 to\texinit

\newwrite\myfile
\immediate\openout\myfile=\latexstylename.lts

\newbox\mybox

\documentclass[\latexclassopt]{\latexclassname}

\texinit

\newcommand{\writefontsize}[1]{
  \setbox\mybox=\hbox{#1
    a $a$
    \immediate\write\myfile{%
      \string\def\string#1{%
        \string\font\string\pyxfont=\fontname\font
        \string\pyxfont
        \string\font\string\pyxfonttfa=\fontname\textfont0
        \string\textfont0=\string\pyxfonttfa
        \string\font\string\pyxfontsfa=\fontname\scriptfont0
        \string\scriptfont0=\string\pyxfontsfa
        \string\font\string\pyxfontssfa=\fontname\scriptscriptfont0
        \string\scriptscriptfont0=\string\pyxfontssfa
        \string\font\string\pyxfonttfb=\fontname\textfont1
        \string\textfont1=\string\pyxfonttfb
        \string\font\string\pyxfontsfb=\fontname\scriptfont1
        \string\scriptfont1=\string\pyxfontsfb
        \string\font\string\pyxfontssfb=\fontname\scriptscriptfont1
        \string\scriptscriptfont1=\string\pyxfontssfb
        \string\font\string\pyxfonttfc=\fontname\textfont2
        \string\textfont2=\string\pyxfonttfc
        \string\font\string\pyxfontsfc=\fontname\scriptfont2
        \string\scriptfont2=\string\pyxfontsfc
        \string\font\string\pyxfontssfc=\fontname\scriptscriptfont2
        \string\scriptscriptfont2=\string\pyxfontssfc
        \string\font\string\pyxfonttfd=\fontname\textfont3
        \string\textfont3=\string\pyxfonttfd
        \string\font\string\pyxfontsfd=\fontname\scriptfont3
        \string\scriptfont3=\string\pyxfontsfd
        \string\font\string\pyxfontssfd=\fontname\scriptscriptfont3
        \string\scriptscriptfont3=\string\pyxfontssfd
      }
    }
  }
}

\begin{document}
\writefontsize{\tiny}
\writefontsize{\scriptsize}
\writefontsize{\footnotesize}
\writefontsize{\small}
\writefontsize{\normalsize}
\writefontsize{\large}
\writefontsize{\Large}
\writefontsize{\LARGE}
\writefontsize{\huge}
\writefontsize{\Huge}
\end{document}

\immediate\closeout\myfile
